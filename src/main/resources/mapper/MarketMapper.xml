<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="project.blog.community.project.mapper.MarketMapper">


    <insert id="save">
        INSERT INTO tbl_market
        (text_title, text_content, text_writer)
        VALUES
        (#{textTitle}, #{textContent}, #{textWriter})
        <!--VALUES는 SQL 문법에서 데이터 삽입(INSERT) 작업을 할 때,
        특정 테이블의 컬럼에 삽입될 값들을 지정하는 데 사용되는 키워드입니다.-->
    </insert>


    <select id = "findAll" resultType="market"> <!-- resultType 원래는 풀 경로이나, mybatis-config.xml에서 메서드화해서 줄임 // select 리턴 타입 설정 resultType, Board만 적음됨 List<Board> XXX @@-->
        SELECT * FROM tbl_market
        ORDER BY board_no DESC
    </select>



    <update id="modify">
        UPDATE tbl_market
        SET text_content = #{textContent}
<!--        update_date = CURRENT_TIMESTAMP-->
        WHERE board_no = #{boardNo}
    </update>

    <update id = "updateViewCount">
        UPDATE tbl_market
        SET view_count = view_count + 1
        WHERE board_no = #{boardNo}
    </update>



</mapper>
